---
title: Next.jsで学ぶReact講座
AI: "false"
published: 2025-07-01
description: Custom Hooks（カスタムフックス）の使い方、使いどころをマスターしよう！
tags:
  - permanent-note
  - react
  - nextjs
  - programming
---
---
コンポーネントを作る場合とカスタムフックを作る場合の二通りがある。

**カスタムフックスは名前をuseで始めなければならない。**
→ カスタムフックスなのか、JavaScriptの関数なのかが分からなくなる。
逆に言えば、JavaScriptの関数を作るときに名前にuseを使うとややこしくなる。

```
const useCounter = () => {
  const [count, setCount] = useState(1);
  const [isShow, setIsShow] = useState(true);

  const handleClick = useCallback(() => {
    setCount((prevCount) => prevCount + 1);
  }, []);

  const handleDisplay = useCallback(() => {
    setIsShow((prevShow) => !prevShow);
  }, []);

  return { count, isShow, handleClick, handleDisplay };
};

const useInputArray = () => {
  const [text, setText] = useState("Hello");
  const [array, setArray] = useState([]);

  const handleChange = useCallback((e) => {
    if (e.target.value.length > 10) {
      alert("Max length is 10");
      return;
    }
    setText(e.target.value);
  }, []);

  const handleAdd = useCallback(() => {
    setArray((prevArray) => {
      if (prevArray.some((item) => item === text)) {
        alert("Already exists");
        return prevArray;
      }
      return [...prevArray, text];
    });
  }, [text]);

  return { text, array, handleChange, handleAdd };
};
```

##### コンポーネントとカスタムフックスの違い
カスタムフックスは自由度が高い。カスタムフックスは値や関数をリターンして、その値を使い回すことができるが、コンポーネントの場合は要素固定であるので、自由度が低い。
カスタムフックスはUIを切り離してロジックの部分を共通化するイメージ。
