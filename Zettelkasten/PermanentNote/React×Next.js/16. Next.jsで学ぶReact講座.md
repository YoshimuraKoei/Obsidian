---
title: Next.jsで学ぶReact講座
AI: "false"
published: 2025-07-01
description: Stateのリフトアップでページ間やコンポーネント間で値を共通化しよう！
tags:
  - permanent-note
  - react
  - nextjs
  - programming
---
---
### ページ間の値の共通化
カスタムフックスでコードを共通化していても、Stateが共通化はできていない。そのために、**Stateのリフトアップ**がある。Contextは色々な問題があり、しまぶーはおすすめしていないのでStateのリフトアップから学習。

`_app.jsx`
```
import "@/styles/globals.css";
import Head from "next/head";

export default function App({ Component, pageProps }) {
  return (
    <>
      <Head>
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Component {...pageProps} />
    </>
  );
}
```

_app.jsx_ はページの親みたいな存在であり、index.jsxであればHomeコンポーネントが、about.jsxであればaboutコンポーネントが入る。

_app.jsx_ でComponentにPropsとして渡したものは各ページにPropsとして渡る。

```
    <>
      <Head>
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Component {...pageProps} foo={123} />  // Propsとして渡す
    </>
```

MyAppの中で状態を定義すれば、Stateをページ間で共通化できる。**このpages下でのやり方はNext.jsでのやり方で、Reactにはない。** Reactはシングルページアプリケーションであるため、Next.jsのように多くのページを持つことはあまりない。
