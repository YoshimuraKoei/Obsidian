---
title: Next.jsで学ぶReact講座
AI: "false"
published: 2025-06-14
description: クリックイベント（onClick）はどう扱う？メソッド（関数）の書く位置はどこがオススメ？
tags:
  - permanent-note
  - react
  - nextjs
  - programming
---
---
下記は、aタグのデフォルトページ遷移を阻止し、アラートを出すようにしたコード。これはほぼJavaScriptの知識。

```
<a>
	href="/about"
	onClick={function(e) {
		console.log(e.target.href); // https://localhost:3000/about 
		e.preventDefault();
		alert(123);
	}}
</a>
```

SyntheticEvent(合成イベント)ラッパ
- 様々なブラウザでイベントを扱うためのメソッドをまとめたラッパーで、Reactが用意してくれている
- これはブラウザのネイティブイベントとほぼ同じで、JavaScriptと見なせる

メソッドはコンポーネント内にも外にも定義できる。
- onClickのようなイベント処理を直接書くのはお勧めしない
- メソッドをコンポーネントの外部に出してしまうと、引数が複数必要になった場合に、メソッドの引数も増えるので煩雑になる → 時と場合による
- コンポーネント内に書くと、レンダリングに応じてメソッドが再生成されてしまうので、パフォーマンスで少し劣る
	- **useCallbackで回避。** useCallbackの第一引数に関数、第二引数に空の配列を入れておく。これで、再レンダリングされたときに再生成されることがなくなる。

```
const handleClick = useCallback((e) => {
	console.log(e.target.href);
	e.preventDefault();
	alert(foo);
}, []);
```
