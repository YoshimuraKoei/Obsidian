---
title: Next.jsで学ぶReact講座
AI: "false"
published: 2025-06-10
description: jsとjsxどっち？ディレクトリ構成は何がいい？絶対パスインポートはどうやるの？_appってどう使うの？
tags:
  - permanent-note
  - react
  - nextjs
  - programming
---
---
## リファクタリング

リファクタリング ... 特にチームだと生産性に直結するので隔週に1回ぐらい

.js → .jsx に変更すると ...？良い理由

テキストエディタは、右下に「JavaScript」と表示されているように言語を認識しており、それに基づいた補完などを提案してくれる。
.js → JavaScript
.jsx → JavaScript React

例えば、**.jsファイルでdivと打っても補完機能は出てこない。**

React関連が出てくるファイルは.jsx、出てこないのは.jsと分けるのがオススメ
→ 一目でわかるから

`Footer/Footer.jsx` ではなく、 `Footer/index.jsx` とすることで、パスが長くならずに済む。

## 相対パスから絶対パス

```
// jsconfig.json
{
  "compilerOptions": {
    "jsx": "react",
    "baseUrl": "."
  }
}
```

コンパイラーオプションで `baseUrl`をこのように指定することで、現在の階層を元にした絶対パスになる。しかし、アプデされたバージョンは講座と違っており、下記のようになっている。

```
  {
	  "compilerOptions": {
	    "paths": {
	      "@/*": ["./src/*"]
	    }
  }
```

このとき、**@はエイリアスという特定のディレクトリパスに対する短いニックネーム**のようなものを表す。例えば、プロジェクトのルートディレクトリにあるsrcフォルダを@として設定することで、 `root/src/components/Header/index` という長いパスを書く代わりに `@/components/Heder/index` のように書くことが出来る。可読性が向上。

```
// import { Header } from "../components/Header/Index";
import { Header } from "@/components/Header/index";
```

デフォルトで絶対パスになるような補完にする場合は、settingを開いて、 `JavaScript > Preferences: Import Module Specifier Ending` を `non-relative` にすると可能になる。この設定の変更は、UserではなくWorkspace単位にすることで、このプロジェクトのみの設定にすることが出来る。
チームで開発する際は、 `settings.json` に関してもGitのリポジトリに上げると良い。Gitからクローンするときにその設定が勝手に降りてくる。

## ____app.jsx の説明とfaviconの移譲

Next.jsにおける`_app.jsx`の役割は、**アプリケーション全体を初期化し、共通のレイアウトやプロパティをページに適用すること**です。すべてのNext.jsのページコンポーネントは、レンダリングされる前にこの`_app.jsx`コンポーネントによってラップされます。

1. ページ間の共通レイアウト
アプリケーション全体で共通のヘッダー、フッター、サイドバーなどのレイアウトを定義できます。これにより、各ページで同じレイアウトを繰り返し記述する必要がなくなります。

2. ページにプロパティを注入
getInitialPropsやgetServerSideProps、getStaticPropsとは異なり、_app.jsxではすべてのページに共通のプロパティ（例えば、認証情報やテーマ設定など）を注入できます。

3. グローバルCSSのインポート
アプリケーション全体に適用したいグローバルなCSSファイルや、CSSライブラリをインポートするのに適しています。ここに記述されたスタイルは、すべてのページに影響します。

4. 状態管理の初期化
ReduxやContext APIなどの状態管理ライブラリをセットアップし、アプリケーション全体で利用可能にするための初期化処理を行う場所として使われます。

5. エラーハンドリング
_app.jsx内でエラーバウンダリを設定することで、アプリケーション全体で発生する可能性のあるエラーをキャッチし、ユーザーフレンドリーなエラーページを表示できます。

```
export default function App({ Component, pageProps }) {
  return (
    <>
      <Head>
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Component {...pageProps} />
    </>
  );
}
```


