---
title: Linux講座第4回
AI:
published: ""
description:
tags:
  - permanent-note
  - linux
---
**Linux講座**
- https://engineer-ninaritai.com/infraacademy/course-category/linux/?loop_content_only=false&column_per_row=3&course_per_page=12&show_pagination=false&keyword=Linux%E5%85%A5%E9%96%80&tutor-course-filter-category=57&course_order=oldest_first&course_filter=true&loop_content_only=false&column_per_row=3&course_per_page=12&show_pagination=false&current_page=1&action=tutor_course_filter_ajax

---
**vim(ヴィム),vi(ブイアイ)とは、ファイルを編集するコマンド**

**Linuxでファイルを編集をするときは、viコマンドを使用します。**
```bash
vi [ファイル名]
```

vim/viは玄人向けのテキストエディタです。
最初のうちは使いづらいですが、慣れてくると短時間でテキストの編集をすることができます。

viコマンドでファイルを開いた状態では、直接文字を入力することはできません。

**a”を押すことで、文字が入力できるようになります。(編集モード)**
編集モードになると、画面の下部が**INSERT**になります。

![[Pasted image 20250831142636.png]]

ファイルを保存する場合は、まず、**escキー**を押します。(コマンドモード)

escキーを押すと、画面下部のINSERTの文字が消えます。

その後、**:wq**と入力します。
画面下の方に入力されていることが確認できます。

ファイルの中身を確認します。
```bash
cat test.txt
```

![[Pasted image 20250831142755.png]]

viには、**ファイルを編集する編集モードと、コマンドを入力するコマンドモードの2つのモード**があります。

---
##### コマンドモードと編集モード

**コマンドモードは「ファイルを保存する」「文字を検索する」「文字を置換」するといった操作ができ、**
**編集モードは、ファイルの中身を編集する操作ができます。**

viコマンドを使用してファイルを開いた最初の状態は、**コマンドモード**です。

コマンドモードから、**編集モードに切り替える場合は、”a”を押して**、
編集モードから、**コマンドモードに切り替える場合は、”Esc”キーを押します。**
**このように、”a”と”Esc”を使って、モードを切り替えることができます。**
(“a”や”esc”以外でも、モードの切り替えは可能です)

---
##### 編集モードに移行するコマンド

viコマンドには、編集モードとコマンドモードのモードがあり、ファイルを編集するためには、編集モードに移行する必要があります。その編集モードに移行するコマンドは、以下のものがあります。

- a
- i
- o
- R [shift + r]

###### a

**aは、カーソルの右側にテキストを挿入します。**

escキーでコマンドモードに移行した後、**:w**を入力してEnterキーを押します。
Enterを押すと、以下のようなメッセージが表示されます。これで保存が完了です。
![[Pasted image 20250831143303.png]]

###### i

**iは、カーソルの左側にテキストを挿入します。**


###### o

**oは、カーソルがある下の行にテキストを挿入します。**

###### R[shift + r]

**[shift] + rキーは、現在のカーソル位置から文字を上書きします。**

---
##### コマンドで文字を削除する

###### 1文字削除する

文字を削除するためには、コマンドモードにいる必要があります。(escキーでコマンドモードに移行)

###### 一行削除する

一行削除する場合は、”dd”(dを２回)押します。

###### その他の削除方法

xやdd以外にも、以下のコマンドで削除ができます。
- dw　→ 一単語削除
- D[shift + d] → 文末まで削除
- 2dd → 2行削除。数字を指定することで、指定した行数分を削除できます。

---
##### コマンドで文字をコピー、切り取り、ペーストする

###### yyで一行をコピー

**yy(yを２回)押すことで、一行をコピーすることができます。**

**ペーストするためには、”p”を押します。**

###### ddで一行をコピー

**“dd”(dを２回)押すことで、一行を切り取ることができます。**

また、前回紹介した”x”でも切り取りと同じ効果があります。xは一文字削除ですが、削除後に”p”を押すと、削除した文字をペーストすることができます。

---
##### ファイルを閉じる、保存する

###### ファイルを閉じる

ファイルを閉じる場合は、”:q”を押します。
しかし、以下のようにエラーが表示される場合もあります。
![[Pasted image 20250831144548.png]]

その場合は、**:q!**と入力しましょう。

![](https://engineer-ninaritai.com/infraacademy/wp-content/uploads/2023/10/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2023-10-13-9.43.11.png)

**!をつけることで、強制的にファイルを閉じることができます。**

###### ファイルを保存する

**ファイルを保存する場合は、”:wq”を押します。**
**文字を保存するだけで、閉じない場合は”:w”だけ押します。**


