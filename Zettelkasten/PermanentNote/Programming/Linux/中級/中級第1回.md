---
title: Linux講座中級第1回
AI:
published: 2025-09-04
description:
tags:
  - permanent-note
  - linux
---
**Linux講座**
- https://engineer-ninaritai.com/infraacademy/course-category/linux/?loop_content_only=false&column_per_row=3&course_per_page=12&show_pagination=false&keyword=Linux%E4%B8%AD%E7%B4%9A&tutor-course-filter-category=57&course_order=oldest_first&course_filter=true&loop_content_only=false&column_per_row=3&course_per_page=12&show_pagination=false&current_page=1&action=tutor_course_filter_ajax

---
##### カーネルとは？

ここからは、Linuxの中級講座です。

初級講座では簡単な使い方やコマンドを学習しましたが、中級編ではLinuxの仕組みやサーバーの運用など業務で必要なスキルを学習します。

まずは、Linuxの仕組みの部分について学習します。

今回はカーネルについてです。

**Linuxのカーネルとは、OS(オペレーティングシステム)の中核を成すシステムです。**

OSの基本となる機能を提供しているのがカーネルです。

今回のレッスンでは、このカーネルについて詳しく解説します！

###### そもそもOSって何？

カーネルの説明の前に、OS(オペレーティングシステム)について解説します。

**OSとは、「Opereting System（オペレーティングシステム）」の頭文字を取ったものです。**

**Opereting**(オペレーティング)は、”運転する”や”操作する”という意味です。

**OSは、ハードウェア(機器)とソフトウェアの操作を行います。**

CPU、メモリ、ストレージ、ネットワークなどのハードウェアを制御して、Excelやブラウザなどのソフトウェアを正常に動作させます。
![[Pasted image 20250904140131.png]]

LinuxはOSのひとつで、WindowsやAndroidやiOSなどもOSです。

###### カーネルはOSの中核

**カーネルとは、LinuxのOSの中核となる部分を指します。**

OSは、ハードウェアとソフトウェアの制御を行います。

**Linuxでその役割を担っているのがカーネルです。**
![[Pasted image 20250904140202.png]]

次は、カーネルの機能について詳しく説明します。

---
##### カーネルの機能

###### プロセス管理

**カーネルは、プロセスの生成、割り当て、実行、停止、スケジューリングなどを管理**します。

プロセスとは**処理**のことです。

プロセスは、アプリケーションが実行される単位であり、**カーネルはこれらのプロセスを管理し、システムのリソースを適切に割り当てます。**

###### メモリ管理

**カーネルは、メモリの割り当て、解放、スワップなどを管理**します。

これにより、**システムが正常に動作するために必要なメモリを最適化し、アプリケーションが使用するメモリを管理**します。

※スワップとは、仮想メモリのことです。

###### ファイルシステム管理

カーネルは、ファイルシステムのマウント、アンマウント、ディレクトリ操作、ファイル読み書きなどを管理します。

これにより、**アプリケーションがファイルを読み書きできるようになり**、システムのストレージリソースを最適化します。

このようにカーネルは、処理を管理したり、処理に必要なメモリやファイルの操作を行います。
![[Pasted image 20250904140501.png]]

---
##### カーネルのバージョンとは？

Linuxのカーネルには、5.19.7のような数値が付けられています。

これは、**Linuxオペレーティングシステムの中核部分であるLinuxカーネルの特定のリリースに付与された識別番号**のことです。

Linuxカーネルバージョンは、通常、3つの数字で構成されています。

最初の数字は**メジャーバージョン番号で、大きな変更が行われると増加します。**

2番目の数字は**マイナーバージョン番号で、機能の追加や改善が含まれると増加します。**

3番目の数字は**パッチレベル番号で、バグ修正やセキュリティ修正など、小規模な修正が行われると増加します。**

![[Pasted image 20250904141118.png]]

---
##### カーネルバージョンを確認する方法

###### unameコマンド

シミュレーターを起動したら、以下のようにコマンドを入力しましょう。

```bash
uname -r
```

コマンドを実行すると、以下のようにバージョンが表示されます。
![[Pasted image 20250904141158.png]]

このようにunameコマンドを使用するとバージョンを確認することができます。

###### unameコマンドのオプション

unameにはさまざまなオプションがあります。

お時間がある方は試してみてください。

|   |   |
|---|---|
|オプション|概要|
|-m|マシンのハードウェア名を出力|
|-n|ノード名を出力|
|-p|マシン プロセッサ アーキテクチャ名を出力|
|-s|OS名を出力|
|-v|OSのバージョンを出力|
|-a|全ての情報を出力|

例:マシンのハードウェア名を出力

```bash
uname -m
# 出力例: i686
```

例:ノード名を出力

```bash
uname -n
# 出力例: localhost
```

例:全ての情報を出力

```bash
uname -a
# 出力例: Linux localhost 5.19.7-arch1-1.0 ・・・
```

###### /proc/versionを見る方法

/proc/versionにもカーネルのバージョンがあります。このファイルの中身を見ることでカーネルのバージョンを確認できます。

以下のようにコマンドを実行します。

```bash
cat /proc/version
```

コマンドを実行すると、以下のようになります。
![[Pasted image 20250904141346.png]]

---
##### カーネルモジュールとは？

ここまで、カーネルについて解説してきました。

カーネルには、カーネルモジュールという便利な機能があります。

**カーネルモジュールとは、カーネルを構成する機能を分離してモジュール化**したものです。

そもそも、モジュールとは、部品という意味があります。

具体的には、**ネットワーク機能、ファイルシステム機能、デバイスドライバ機能**などカーネルの機能を分離させます。
![[Pasted image 20250904141429.png]]

###### モジュール化するメリット

**なぜモジュール化をする必要があるのでしょうか？**

それは、以下のようなメリットがあるからです。

- **カーネル本体の容量を小さくして、起動時間の短縮**
- **不要な機能を外して、メモリの節約**
- **さまざまなハードウェアへの対応**

カーネルは起動する際に読み込まれます。

カーネルの容量が大きいと、起動に時間がかかるため、サイズを小さくして起動時間を短縮します。

また、USBドライバやWi-Fiアダプタなどさまざまなハードウェアのモジュールを読み込むことで、多様なハードウェアへ対応することができます。

**ちなみに、メモリ管理やスケジューラなど重要な部分はモジュールとして切り出すことはできません。**

---
##### 現在ロードされているモジュールを確認する

###### lsmodコマンド

**lsmodコマンドは、現在ロードされているモジュールを一覧表示します。**

以下のコマンドを実行してみましょう。

```bash
lsmod
```

コマンドを実行すると、以下のように表示されます。
![[Pasted image 20250904142026.png]]

左から、モジュール名、サイズ、参照回数、モジュールを利用しているモジュール名が表示されます。

---
##### Linuxが起動する流れ

ここまで、カーネルについて学習しました。

カーネルは、Linux OSの中核です。

つまり、**PCに電源を入れて、Linuxが起動するまでの間に読み込まれます。**

Linuxが起動するまでには、どのような流れで進むのでしょうか？

ここからは、Linuxが起動する流れを解説します。

**システムが起動してから、Linuxが起動するまでの流れ**は、以下のような順序です。

1. PCに電源を入れる
2. BIOS/UEFIが起動
3. ブートローダーの読み込みと実行
4. カーネルが起動
5. カーネルが初期プロセスを実行
6. 起動完了(ログイン画面)
![[Pasted image 20250904142617.png]]

###### BIOS/UEFIの起動

まず、**コンピュータを起動すると電源が入り、BIOS/UEFIが起動します。**

**BIOSとは、コンピュータの起動プロセスとハードウェアの初期化を管理するファームウェア**です。

BIOSはコンピュータのハードウェアを初期化し、**起動可能なデバイス(ブートデバイス)** をチェックします。

###### ブートローダーの読み込みと実行

次にブートローダーの読み込みが行われます。

**ブートローダーとは、カーネル(LinuxOS)を読み込むためのプログラムです。**

このブートローダーは、ハードディスクやCD、USBなどに入っています。ブートローダーが入っているデバイスをブートデバイスと呼び、BIOS内に設定されているブートデバイス情報から、該当するデバイスを認識します。

そして、**ブートローダーを読み込み、Linuxの元となるカーネルを起動させます。**

###### カーネルの起動

ブートローダーを読み込んだ後、カーネルが起動します。

このタイミングでカーネルが読み込まれ、起動します。

カーネルはハードウェアを初期化し、必要なドライバをロードします。

また、ルートファイルシステムのマウントや初期プロセス（init）の起動など、システムの基本的なタスクを実行します。

###### 初期プロセスの起動

**カーネルは初期プロセスを実行し、起動処理を行います。**

(プロセスとは、実行しているプログラムのことです。)

初期プロセスでは、必要なサービスなどを順次起動していき、最後にログインプロンプトを表示して起動処理を完了します。

この初期プロセスについては、後ほど詳しく解説します。

**このように、Linuxは電源投入から初期プロセスを経て起動しているのです。**

カーネルがどのような場所で関係しているのか全体像が理解できたと思います。

---
##### ブートローダーとは？

先ほどまで、Linuxの起動の流れについて学習しました。

その中に、ブートローダーという言葉がありました。

ブートローダーは重要な部分なので、もう少し解説しておきます。

**ブートローダーとは、カーネル(LinuxOS)を読み込むためのプログラムです。**

このブートローダーは、ハードディスクやCD、USBなどに入っています。

ブートローダーが入っているデバイスをブートデバイスと呼び、BIOS内に設定されているブートデバイス情報から、該当するデバイスを認識します。

そして、ブートローダーを読み込み、Linuxの元となるカーネルを起動させます。
![[Pasted image 20250904142843.png]]

###### Linuxのブートローダー

Linuxの代表的なブートローダーは、**GRUB(グラブ)**です。

GRUB（Grand Unified Bootloader）は、多くのLinuxディストリビューションで使用される一般的なブートローダーです。

GRUBは、カーネルとオペレーティングシステムの起動を管理し、ブート時に適切なオペレーティングシステムを選択するためのメニューを提供する機能を持っています。

また、GRUBのバージョンが0.9x系のものを「**GRUB Legacy**」、1.9以降のものを「GRUB2」と呼びます。

GRUBという単語はよく耳にすると思うので覚えておきましょう。

